{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  return _openBlock(), _createElementBlock(\"main\", null, [_createCommentVNode(\" Muestra el bot칩n de \\\"Nuevo\\\" solo si el usuario est치 autenticado \"), $setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createVNode(_component_RouterLink, {\n    to: \"/nuevo\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"Nuevo\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"table\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"#\"), _createElementVNode(\"th\", null, \"Nombre\"), _createElementVNode(\"th\", null, \"Apellido Materno\"), _createElementVNode(\"th\", null, \"Apellido Paterno\"), _createElementVNode(\"th\", null, \"Correo Electronico\"), _createElementVNode(\"th\", null, \"Domicilio\"), _createElementVNode(\"th\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.clientes, cliente => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: cliente.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(cliente.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cliente.nombre), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cliente.apellidopaterno), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cliente.apellidomaterno), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cliente.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cliente.domicilio), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.borrar(cliente.id, cliente.nombre)\n    }, \"Borrar\", 8 /* PROPS */, _hoisted_2), _createVNode(_component_RouterLink, {\n      to: {\n        path: 'editar/' + cliente.id\n      }\n    }, {\n      default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"Editar\")]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createCommentVNode","$setup","isAuthenticated","_hoisted_1","_createVNode","_component_RouterLink","to","default","_withCtx","_cache","_createTextVNode","_","_createElementVNode","_Fragment","_renderList","clientes","cliente","id","_toDisplayString","nombre","apellidopaterno","apellidomaterno","email","domicilio","onClick","$event","borrar","_hoisted_2","path"],"sources":["C:\\VUEJS\\MVT\\Frontend\\velardeadres\\src\\views\\DireccionesList.vue"],"sourcesContent":["<script>\r\nimport axios from \"axios\";\r\nimport { ref, onMounted } from \"vue\";\r\nexport default {\r\n  setup() {\r\n    const isAuthenticated = ref(false);\r\n    \r\n    onMounted(() => {\r\n      isAuthenticated.value = localStorage.getItem('token') !== null;\r\n      backend();\r\n    });\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    const clientes = ref([]);\r\n\r\n    const backend = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:3000/direcciones\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        clientes.value = response.data;\r\n        console.log(clientes.value);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    const borrar = async (id, nombre) => {\r\n      const confirmar = window.confirm(`Seguro de quitar direccion del cliente: ${nombre}`);\r\n      if (confirmar) {\r\n        try {\r\n          await axios.delete(`http://localhost:3000/direcciones/${id}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n          backend();\r\n        } catch (error) {\r\n          console.log(\"Error \", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    return {\r\n      clientes,\r\n      borrar,\r\n      backend,\r\n      isAuthenticated, // Agregado para poder utilizar en el template\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <main>\r\n    <!-- Muestra el bot칩n de \"Nuevo\" solo si el usuario est치 autenticado -->\r\n    <nav v-if=\"isAuthenticated\">\r\n      <RouterLink to=\"/nuevo\">Nuevo</RouterLink>\r\n    </nav>\r\n\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Nombre</th>\r\n          <th>Apellido Materno</th>\r\n          <th>Apellido Paterno</th>\r\n          <th>Correo Electronico</th>\r\n          <th>Domicilio</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"cliente in clientes\" :key=\"cliente.id\">\r\n          <td>{{ cliente.id }}</td>\r\n          <td>{{ cliente.nombre }}</td>\r\n          <td>{{ cliente.apellidopaterno }}</td>\r\n          <td>{{ cliente.apellidomaterno }}</td>\r\n          <td>{{ cliente.email }}</td>\r\n          <td>{{ cliente.domicilio }}</td>\r\n          <td>\r\n            <button @click=\"borrar(cliente.id, cliente.nombre)\">Borrar</button>\r\n            <RouterLink :to=\"{ path: 'editar/' + cliente.id }\">Editar</RouterLink>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </main>\r\n</template>"],"mappings":";;EAAAA,GAAA;AAAA;mBAAA;;;uBAwDEC,mBAAA,CAiCO,eAhCLC,mBAAA,uEAAwE,EAC7DC,MAAA,CAAAC,eAAe,I,cAA1BH,mBAAA,CAEM,OA5DVI,UAAA,GA2DMC,YAAA,CAA0CC,qBAAA;IAA9BC,EAAE,EAAC;EAAQ;IA3D7BC,OAAA,EAAAC,QAAA,CA2D8B,MAAKC,MAAA,QAAAA,MAAA,OA3DnCC,gBAAA,CA2D8B,OAAK,E;IA3DnCC,CAAA;UAAAX,mBAAA,gBA8DIY,mBAAA,CA0BQ,gB,0BAzBNA,mBAAA,CAUQ,gBATNA,mBAAA,CAQK,aAPHA,mBAAA,CAAU,YAAN,GAAC,GACLA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAyB,YAArB,kBAAgB,GACpBA,mBAAA,CAAyB,YAArB,kBAAgB,GACpBA,mBAAA,CAA2B,YAAvB,oBAAkB,GACtBA,mBAAA,CAAkB,YAAd,WAAS,GACbA,mBAAA,CAAS,M,wBAGbA,mBAAA,CAaQ,iB,kBAZNb,mBAAA,CAWKc,SAAA,QAtFbC,WAAA,CA2E8Bb,MAAA,CAAAc,QAAQ,EAAnBC,OAAO;yBAAlBjB,mBAAA,CAWK;MAX4BD,GAAG,EAAEkB,OAAO,CAACC;QAC5CL,mBAAA,CAAyB,YAAAM,gBAAA,CAAlBF,OAAO,CAACC,EAAE,kBACjBL,mBAAA,CAA6B,YAAAM,gBAAA,CAAtBF,OAAO,CAACG,MAAM,kBACrBP,mBAAA,CAAsC,YAAAM,gBAAA,CAA/BF,OAAO,CAACI,eAAe,kBAC9BR,mBAAA,CAAsC,YAAAM,gBAAA,CAA/BF,OAAO,CAACK,eAAe,kBAC9BT,mBAAA,CAA4B,YAAAM,gBAAA,CAArBF,OAAO,CAACM,KAAK,kBACpBV,mBAAA,CAAgC,YAAAM,gBAAA,CAAzBF,OAAO,CAACO,SAAS,kBACxBX,mBAAA,CAGK,aAFHA,mBAAA,CAAmE;MAA1DY,OAAK,EAAAC,MAAA,IAAExB,MAAA,CAAAyB,MAAM,CAACV,OAAO,CAACC,EAAE,EAAED,OAAO,CAACG,MAAM;OAAG,QAAM,iBAnFtEQ,UAAA,GAoFYvB,YAAA,CAAsEC,qBAAA;MAAzDC,EAAE;QAAAsB,IAAA,cAAsBZ,OAAO,CAACC;MAAE;;MApF3DV,OAAA,EAAAC,QAAA,CAoF+D,MAAM,KAAAC,MAAA,QAAAA,MAAA,OApFrEC,gBAAA,CAoF+D,QAAM,E;MApFrEC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}